(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41447,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let s="split-app-trips",a=(0,r.createContext)(null);function i(){return Math.random().toString(36).substring(2,10)+Date.now().toString(36)}function l({children:e}){let[l,n]=(0,r.useState)([]),[u,o]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n(function(){try{let e=localStorage.getItem(s);return e?JSON.parse(e):[]}catch{return[]}}()),o(!0)},[]),(0,r.useEffect)(()=>{u&&localStorage.setItem(s,JSON.stringify(l))},[l,u]);let c=(0,r.useCallback)(e=>{let t={...e,id:i(),expenses:[],createdAt:new Date().toISOString()};return n(e=>[t,...e]),t},[]),d=(0,r.useCallback)((e,t)=>{n(r=>r.map(r=>r.id===e?{...r,...t}:r))},[]),p=(0,r.useCallback)(e=>{n(t=>t.filter(t=>t.id!==e))},[]),m=(0,r.useCallback)(e=>l.find(t=>t.id===e),[l]),b=(0,r.useCallback)((e,t)=>{let r={...t,id:i(),createdAt:new Date().toISOString()};n(t=>t.map(t=>t.id===e?{...t,expenses:[...t.expenses,r]}:t))},[]),S=(0,r.useCallback)((e,t,r)=>{n(s=>s.map(s=>s.id===e?{...s,expenses:s.expenses.map(e=>e.id===t?{...e,...r}:e)}:s))},[]),f=(0,r.useCallback)((e,t)=>{n(r=>r.map(r=>r.id===e?{...r,expenses:r.expenses.filter(e=>e.id!==t)}:r))},[]),C=(0,r.useCallback)((e,t)=>{let r={...t,id:i()};n(t=>t.map(t=>t.id===e?{...t,members:[...t.members,r]}:t))},[]),g=(0,r.useCallback)((e,t)=>{n(r=>r.map(r=>r.id===e?{...r,members:r.members.filter(e=>e.id!==t)}:r))},[]);return(0,t.jsx)(a.Provider,{value:{trips:l,addTrip:c,updateTrip:d,deleteTrip:p,getTrip:m,addExpense:b,updateExpense:S,deleteExpense:f,addMember:C,removeMember:g},children:e})}function n(){let e=(0,r.useContext)(a);if(!e)throw Error("useStore must be used within StoreProvider");return e}e.s(["StoreProvider",()=>l,"useStore",()=>n])}]);